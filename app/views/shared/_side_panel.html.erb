<!-- app/views/shared/_side_panel.html.erb -->

<div
  data-side-panel-target="panel"
  class="fixed top-0 right-0 h-full bg-white shadow-lg border-l border-gray-200
         translate-x-full transition-transform duration-200 ease-out
         flex flex-col z-40"
  style="width: 480px;"
>
  <!-- 左端リサイズ用ハンドル -->
  <div
    data-side-panel-target="resizeHandle"
    data-action="mousedown->side-panel#startResize"
    class="absolute left-0 top-0 h-full w-1 cursor-col-resize bg-transparent"
  ></div>

  <!-- ヘッダー -->
  <div class="flex items-center justify-between px-3 py-2 border-b border-gray-200">
    <h2 class="text-sm font-semibold" data-side-panel-target="title">
      <!-- タイトルはリンク側から渡す -->
    </h2>
    <button
      type="button"
      class="text-xs text-gray-500 hover:text-gray-800"
      data-action="click->side-panel#close"
    >
      ✕
    </button>
  </div>

  <!-- 中身：Turbo Frame で差し替わる -->
  <div class="flex-1 overflow-y-auto p-3">
    <turbo-frame id="side-panel-frame">
      <p class="text-xs text-gray-400">
        ここに、新規タスク作成フォームなどが表示されます。
      </p>
    </turbo-frame>
  </div>
</div>